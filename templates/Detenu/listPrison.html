{% extends 'Detenu/base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/stylePrison.css'%}">
<div class="container mt-4">
    <div class="row align-items-center mb-4">
        <a class="col btn btn-success bg-primary m-2" href="{% url 'ajout_agent'%}">AJOUTER AGENT</a>
        <form action="{% url 'cherchePrison' %}" class="col form-inline" method="get">
            <div class="input-group">
                <input type="search" class="form-control rounded" placeholder="Recherche prison..." aria-label="Search" name="query" aria-describedby="search-addon" />
                <button type="submit" class="btn btn-outline-primary">Rechercher</button>
            </div>
        </form>
        <a class="col btn btn-info m-2" href="{% url 'list_prisons' %}">LISTE DES PRISONS</a>
        <a class="col btn btn-secondary m-2" href="{% url 'Ajout_Grade' %}">AJOUTER UN GRADE</a>
    </div>
    <h2 class="text-center alert alert-info">Liste des Prisons</h2>
    <table class="table table-striped table-bordered">
        <thead>
            <tr>
                <th>Nom de la prison</th>
                <th>Capacité</th>
                <th>Territoire</th>
                <th>Directeur</th>
                <th>Nombre de prisonniers</th>
            </tr>
        </thead>
        <tbody>
            {% for prison in prisons %}
            <tr>
                <td>{{ prison.nom_de_la_prison }}</td>
                <td>{{ prison.capacite }}</td>
                <td>{{ prison.territoire }}</td>
                <td>{{ prison.directeur }}</td>
                <td>{{ prison.nombre_prisonniers }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="5" class="text-center">Aucune prison trouvée.</td></tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{% url 'Ajout_Prison' %}" class="btn btn-primary">Ajouter une prison</a>
</div>
{% endblock %}
